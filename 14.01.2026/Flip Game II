def canWin(s):
    memo = {}
    def dfs(state):
        if state in memo: return memo[state]
        for i in range(len(state)-1):
            if state[i:i+2] == "++":
                if not dfs(state[:i] + "--" + state[i+2:]):
                    memo[state] = True
                    return True
        memo[state] = False
        return False
    return dfs(s)
