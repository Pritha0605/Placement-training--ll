def diffWaysToCompute(expression):
    memo = {}
    def dfs(exp):
        if exp in memo:
            return memo[exp]
        res = []
        for i, ch in enumerate(exp):
            if ch in "+-*":
                left = dfs(exp[:i])
                right = dfs(exp[i+1:])
                for a in left:
                    for b in right:
                        if ch == '+': res.append(a+b)
                        elif ch == '-': res.append(a-b)
                        else: res.append(a*b)
        if not res:
            res.append(int(exp))
        memo[exp] = res
        return res
    return dfs(expression)
