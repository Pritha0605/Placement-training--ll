class Solution:
    def cloneGraph(self, node):
        if not node: return None
        mp = {}
        def dfs(n):
            if n in mp: return mp[n]
            copy = Node(n.val)
            mp[n] = copy
            copy.neighbors = [dfs(x) for x in n.neighbors]
            return copy
        return dfs(node)
