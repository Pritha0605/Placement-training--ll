class Solution:
    def maximalRectangle(self, matrix):
        if not matrix: return 0
        heights = [0] * len(matrix[0])
        res = 0
        for row in matrix:
            for i in range(len(row)):
                heights[i] = heights[i] + 1 if row[i] == "1" else 0
            res = max(res, Solution().largestRectangleArea(heights))
        return res
