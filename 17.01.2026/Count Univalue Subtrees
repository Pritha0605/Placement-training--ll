class Solution {
    int count = 0;
    public int countUnivalSubtrees(TreeNode root) {
        isUni(root);
        return count;
    }

    boolean isUni(TreeNode n){
        if(n==null) return true;
        boolean l = isUni(n.left);
        boolean r = isUni(n.right);
        if(!l||!r) return false;
        if(n.left!=null && n.left.val!=n.val) return false;
        if(n.right!=null && n.right.val!=n.val) return false;
        count++;
        return true;
    }
}
